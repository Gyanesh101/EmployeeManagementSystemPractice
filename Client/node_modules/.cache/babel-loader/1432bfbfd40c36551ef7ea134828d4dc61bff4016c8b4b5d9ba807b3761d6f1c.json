{"ast":null,"code":"import _objectSpread from\"d:/EMS/EmployeeManagementSystemPractice/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useAuth}from'../context/AuthContext';// Renders children only for Admin users. If `disable` is true and children\n// are a single React element, it will render a disabled clone instead.\nimport{Fragment as _Fragment,jsx as _jsx}from\"react/jsx-runtime\";const AdminOnly=_ref=>{let{children,fallback=null,disable=false}=_ref;const{isAdmin}=useAuth();if(isAdmin)return/*#__PURE__*/_jsx(_Fragment,{children:children});if(disable&&/*#__PURE__*/React.isValidElement(children)){return/*#__PURE__*/React.cloneElement(children,{disabled:true,title:'Restricted — Admin only','aria-disabled':true,style:_objectSpread(_objectSpread({},children.props.style||{}),{},{opacity:0.6,cursor:'not-allowed'})});}return fallback;};export default AdminOnly;","map":{"version":3,"names":["React","useAuth","Fragment","_Fragment","jsx","_jsx","AdminOnly","_ref","children","fallback","disable","isAdmin","isValidElement","cloneElement","disabled","title","style","_objectSpread","props","opacity","cursor"],"sources":["d:/EMS/EmployeeManagementSystemPractice/Client/src/components/AdminOnly.js"],"sourcesContent":["import React from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\n// Renders children only for Admin users. If `disable` is true and children\r\n// are a single React element, it will render a disabled clone instead.\r\nconst AdminOnly = ({ children, fallback = null, disable = false }) => {\r\n  const { isAdmin } = useAuth();\r\n\r\n  if (isAdmin) return <>{children}</>;\r\n\r\n  if (disable && React.isValidElement(children)) {\r\n    return React.cloneElement(children, {\r\n      disabled: true,\r\n      title: 'Restricted — Admin only',\r\n      'aria-disabled': true,\r\n      style: { ...(children.props.style || {}), opacity: 0.6, cursor: 'not-allowed' },\r\n    });\r\n  }\r\n\r\n  return fallback;\r\n};\r\n\r\nexport default AdminOnly;\r\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,wBAAwB,CAEhD;AACA;AAAA,OAAAC,QAAA,IAAAC,SAAA,CAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAoD,IAAnD,CAAEC,QAAQ,CAAEC,QAAQ,CAAG,IAAI,CAAEC,OAAO,CAAG,KAAM,CAAC,CAAAH,IAAA,CAC/D,KAAM,CAAEI,OAAQ,CAAC,CAAGV,OAAO,CAAC,CAAC,CAE7B,GAAIU,OAAO,CAAE,mBAAON,IAAA,CAAAF,SAAA,EAAAK,QAAA,CAAGA,QAAQ,CAAG,CAAC,CAEnC,GAAIE,OAAO,eAAIV,KAAK,CAACY,cAAc,CAACJ,QAAQ,CAAC,CAAE,CAC7C,mBAAOR,KAAK,CAACa,YAAY,CAACL,QAAQ,CAAE,CAClCM,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,yBAAyB,CAChC,eAAe,CAAE,IAAI,CACrBC,KAAK,CAAAC,aAAA,CAAAA,aAAA,IAAQT,QAAQ,CAACU,KAAK,CAACF,KAAK,EAAI,CAAC,CAAC,MAAGG,OAAO,CAAE,GAAG,CAAEC,MAAM,CAAE,aAAa,EAC/E,CAAC,CAAC,CACJ,CAEA,MAAO,CAAAX,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}