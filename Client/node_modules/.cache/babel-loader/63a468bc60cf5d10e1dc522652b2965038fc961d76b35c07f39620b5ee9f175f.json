{"ast":null,"code":"// In your AuthContext.js\nconst login = async (email, password, role) => {\n  try {\n    const response = await api.post('/auth/login', {\n      email,\n      password,\n      role // Send role to backend\n    });\n\n    // Backend should validate if user has the requested role\n    if (response.data.user.role !== role) {\n      return {\n        success: false,\n        message: `Access denied. This account does not have ${role} privileges.`\n      };\n    }\n\n    // Set user data and token\n    setUser(response.data.user);\n    setToken(response.data.token);\n    return {\n      success: true,\n      user: response.data.user\n    };\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return {\n      success: false,\n      message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed'\n    };\n  }\n};","map":{"version":3,"names":["login","email","password","role","response","api","post","data","user","success","message","setUser","setToken","token","error","_error$response","_error$response$data"],"sources":["C:/Users/sujit/OneDrive/Desktop/Documents/Zynapte/EMPY/EmployeeManagementSystemPractice/Client/src/pages/Login.js"],"sourcesContent":["// In your AuthContext.js\r\nconst login = async (email, password, role) => {\r\n  try {\r\n    const response = await api.post('/auth/login', {\r\n      email,\r\n      password,\r\n      role // Send role to backend\r\n    });\r\n    \r\n    // Backend should validate if user has the requested role\r\n    if (response.data.user.role !== role) {\r\n      return { \r\n        success: false, \r\n        message: `Access denied. This account does not have ${role} privileges.` \r\n      };\r\n    }\r\n    \r\n    // Set user data and token\r\n    setUser(response.data.user);\r\n    setToken(response.data.token);\r\n    \r\n    return { success: true, user: response.data.user };\r\n  } catch (error) {\r\n    return { success: false, message: error.response?.data?.message || 'Login failed' };\r\n  }\r\n};"],"mappings":"AAAA;AACA,MAAMA,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,KAAK;EAC7C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,GAAG,CAACC,IAAI,CAAC,aAAa,EAAE;MAC7CL,KAAK;MACLC,QAAQ;MACRC,IAAI,CAAC;IACP,CAAC,CAAC;;IAEF;IACA,IAAIC,QAAQ,CAACG,IAAI,CAACC,IAAI,CAACL,IAAI,KAAKA,IAAI,EAAE;MACpC,OAAO;QACLM,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,6CAA6CP,IAAI;MAC5D,CAAC;IACH;;IAEA;IACAQ,OAAO,CAACP,QAAQ,CAACG,IAAI,CAACC,IAAI,CAAC;IAC3BI,QAAQ,CAACR,QAAQ,CAACG,IAAI,CAACM,KAAK,CAAC;IAE7B,OAAO;MAAEJ,OAAO,EAAE,IAAI;MAAED,IAAI,EAAEJ,QAAQ,CAACG,IAAI,CAACC;IAAK,CAAC;EACpD,CAAC,CAAC,OAAOM,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,OAAO;MAAEP,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE,EAAAK,eAAA,GAAAD,KAAK,CAACV,QAAQ,cAAAW,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBR,IAAI,cAAAS,oBAAA,uBAApBA,oBAAA,CAAsBN,OAAO,KAAI;IAAe,CAAC;EACrF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}